;---------------------------------------------------
; Program: ULTIMATE PALINDROME DETECTOR
; Author: GABRIEL AUREO
; Date: 06/09/2018
;---------------------------------------------------

ORG 100
PALINDROMO: STR "a cara rajada da jararaca"
DW 0
PALINPNTR: DW PALINDROMO

ORG 0
MAIN:

LDA PALINPNTR
PUSH
LDA PALINPNTR +1
PUSH
JSR PALINDROMOCHK

HLT
END MAIN

ORG 2000
SP: DW 0
STR: DW 0
PTR: DW 0
LDIG: DB 0
RDIG: DB 0
HLEN: DB 0
I: DB 0

EQU SPC 32

ACENTOS: STR "ÁÀÂÃâáàâãÉÈÊéèêÍÌÎíìîÓÒÔóòôÚÙÛÜúùûü"
DW 0
SUBST: STR "aaaaaaaaeeeeeeiiiiiioooooouuuuuuuu"
DW 0

ORG 1000
PALINDROMOCHK:
STS SP
POP
POP
POP
STA STR + 1
POP
STA STR

LDS STR
STS PTR

CONTASTRING:
  LDA @PTR
  JZ ENDCONT
  LDA I
  ADD #1
  STA I
  LDS PTR
  POP
  STS PTR
  JMP CONTASTRING
ENDCONT:
  LDA I
  SHR
  STA HLEN

ITERAESQ:
  LDA @PTR
  STA LDIG
  SUB #SPC
  JZ ITERAESQ

LDS PTR
POP
STS PTR
JMP ITERASTR

ITERAFIM:



LDS SP
RET
















